<div class='form-container'>
  <h2 class="form-title" [ngStyle]="{'color': '#2d474f', 'text-align': 'center'}">Create a new Post</h2>
  <form id='createPostForm' [formGroup]='myForm' (ngSubmit)='onSubmit()'>
    <input class='title form-control mt-3 mb-2' id='topTitle' formControlName='title' placeholder='Write the title...'>
    <select formControlName="selectedTopics" multiple (change)="onTopicsChange($event)">
      <option *ngFor="let option of topics" [value]="option.name">{{ option.name }}</option>
    </select>
    <ul>
      <li *ngFor="let selectedTopic of selectedTopics">{{ selectedTopic }}</li>
    </ul>

    <div formArrayName='descriptionsAndImages'>
      <ng-container *ngFor='let item of descriptionsAndImagesControls; let i = index;'>
        <div [formGroupName]='i'>
          <h4 class="description-title" [ngStyle]="{'color': '#2d474f'}">Top #{{i + 1}}</h4>
          <textarea class="description form-control mt-3 mb-2" id="description" formControlName="description" placeholder="Write a description..."></textarea>
          <input class='form-control mt-3 mb-2' type='file' id='image' (change)='loadFile($event, i)'>
          <img class='img-fluid rounded mt-3' id='imgOne' [src]="item.get('image')?.value" alt=''>
        </div>
      </ng-container>
    </div>
    <button type="submit" class="btn btn-primary mt-3" [disabled]="!myForm.valid">Submit</button>

  </form>
</div>

